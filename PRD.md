# 连连看小游戏 - 产品需求文档 (PRD)

## 1. 项目概述

### 1.1 产品名称
连连看小游戏

### 1.2 产品定位
一款经典的休闲益智类消除游戏，玩家需要在规定时间内找到并连接相同的图案对，消除所有方块来获得胜利。

### 1.3 目标用户
- 休闲游戏爱好者
- 所有年龄段的用户
- 寻求放松娱乐的用户

## 2. 功能需求

### 2.1 核心游戏功能
1. **游戏面板**
   - 8x8 或 10x10 的方块网格
   - 随机生成成对的图案方块
   - 空白方块用于路径连接

2. **连线规则**
   - 两个相同图案的方块可以连接
   - 连接路径最多只能有两个转弯
   - 路径不能经过其他方块

3. **游戏机制**
   - 倒计时功能
   - 分数系统
   - 提示功能
   - 重新排列功能

### 2.2 用户界面功能
1. **主菜单**
   - 开始游戏
   - 游戏设置
   - 游戏说明

2. **游戏界面**
   - 游戏面板
   - 倒计时显示
   - 分数显示
   - 功能按钮（提示、重排、暂停）

3. **结果界面**
   - 游戏结束提示
   - 最终分数
   - 重新开始选项

### 2.3 游戏设置
- 难度选择（简单/普通/困难）
- 音效开关
- 背景音乐开关

## 3. 技术需求

### 3.1 开发语言
Python + Pygame

### 3.2 核心技术要点
1. **游戏逻辑**
   - 路径寻找算法
   - 方块匹配检测
   - 游戏状态管理

2. **图形渲染**
   - 方块绘制
   - 连线动画
   - UI元素渲染

3. **用户交互**
   - 鼠标点击检测
   - 键盘快捷键支持

### 3.3 文件结构
```
MiniGame/
├── main.py           # 主程序入口
├── game.py           # 游戏主逻辑
├── board.py          # 游戏面板类
├── block.py          # 方块类
├── path_finder.py    # 路径寻找算法
├── ui.py             # 用户界面
├── settings.py       # 游戏设置
├── assets/           # 游戏资源
│   ├── images/       # 图片资源
│   └── sounds/       # 音效资源
└── utils.py          # 工具函数
```

## 4. 游戏规则详细说明

### 4.1 基本规则
1. 点击两个相同的图案方块
2. 如果两个方块之间可以用不超过两个转弯的路径连接，则消除这对方块
3. 路径不能经过其他方块
4. 消除所有方块即为获胜

### 4.2 连接路径规则
- **直线连接**：两个方块在同一行或同一列，中间无障碍
- **一个转弯**：可以通过一个90度转弯连接
- **两个转弯**：可以通过两个90度转弯连接

### 4.3 分数系统
- 基础分数：每消除一对方块得10分
- 时间奖励：剩余时间越多，奖励分数越高
- 连击奖励：连续快速消除有额外奖励

### 4.4 游戏结束条件
- 所有方块被消除（胜利）
- 时间耗尽（失败）
- 无可消除的方块对（需要重排或失败）

## 5. 开发优先级

### 第一阶段（MVP）
1. 基础游戏面板和方块显示
2. 简单的路径寻找算法
3. 基本的游戏逻辑
4. 简单的UI界面

### 第二阶段
1. 完善路径寻找算法
2. 添加计时功能
3. 实现分数系统
4. 优化UI和用户体验

### 第三阶段
1. 添加音效和背景音乐
2. 实现提示和重排功能
3. 添加游戏设置选项
4. 优化游戏性能和视觉效果

## 6. 验收标准

1. 游戏可以正常启动和运行
2. 方块连接逻辑正确实现
3. 用户界面友好易用
4. 游戏性能流畅
5. 代码结构清晰，便于维护

## 7. 风险评估

### 技术风险
- 路径寻找算法复杂度
- 游戏性能优化
- 用户交互响应性

### 解决方案
- 采用成熟的寻路算法
- 合理的代码架构设计
- 充分的测试验证